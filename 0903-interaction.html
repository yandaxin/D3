<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>交互</title>
	<script type="text/javascript" src="d3.js"></script>
</head>
<body>
	<script type="text/javascript">
		var characters=["A","S","D","F"];

		var svg=d3.select("body").append("svg")
		.attr("width",300)
		.attr("height",300);

		var rects=svg.selectAll("rect")
		.data(characters)
		.enter()
		.append("rect")
		.attr("x",function(d,i){ return 10+i*60;})
		.attr("y",150)
		.attr("width",55)
		.attr("height",55)
		.attr("rx",5)
		.attr("ry",5)
		.attr("fill","black");

		var texts=svg.selectAll("text")
		.data(characters)
		.enter()
		.append("text")
		.attr("x",function(d,i){return 10+i*60;})
		.attr("y",150)
		.attr("dx",10)
		.attr("dy",25)
		.attr("fill","white")
		.attr("font-size",24)
		.text(function(d){return d;})


		d3.select("body")
		.on("keydown",function(){

			rects.attr("fill",function(d){
				//如果按下的键和屏幕上rects上绑定的数据d相同，则返回黄色
				if(d==String.fromCharCode(d3.event.keyCode))
				{
					return "yellow";
				}
				else
				{
					return "black";
				}
			});
		})
		.on("keyup",function(){
			rects.attr("fill","black");

		});

	</script>
	
</body>
</html>